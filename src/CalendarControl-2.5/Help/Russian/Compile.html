<HTML>
 <HEAD>
  <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
  <TITLE>Calendar Control. Параметры компиляции</TITLE>
 </HEAD>
 <BODY BGCOLOR=white link="#2222AA">
  <p><b><A HREF="CalendarControl.html">Calendar Control</A>. Параметры компиляции</b></p>
  <p align=justify>Данный документ описывает параметры, задаваемые при компиляции контрола календаря (Calendar Control) для получения различных по свойствам контролов. Документ написан для версии контрола 2.5.</p>
  <p align=justify>Исходный код контрола создан таким образом, что позволяет получать в результате компиляции контролы с различными свойствами. Модификации поддаются внешний вид (интерфейс) контрола и язык интерфейса. Свойства получаемого контрола задаются параметрами компиляции в исходном коде.</p>
  <p align=justify>Эти параметры учитывают существование операционных систем BeOS (принимались в расчет версии 5.0.X) и Zeta, имеющих отличающиеся по виду контролы и различные средства локализации. Наличие операционных систем BeOS версий 5.1 (Dano) не учтено в связи с тем, что у автора не было возможности проверить работу контрола в этих ОС. Рекомендации по компиляции контрола для Dano будут даны в конце данного текста.</p>
  <p align=justify>Блок параметров, определяющих изменяемые свойства контрола, находится в начале файла CalendarControl.cpp (после информации о версии, авторе и лицензии контрола). Приведем его полностью:</p>
 
  <p><blockquote><TT>
// -------------------------------------------------------------------------------<br>
// --------------- Parameters to compile controls (see Compile.html) -------------<br>
// -------------------------------------------------------------------------------<br><br>

// ----------------------------------- Languages ---------------------------------<br><br>
//#define __LANG_LOCALE&nbsp;&nbsp;// to compile localized version (only for Zeta)<br>
//#define __LANG_ENGLISH&nbsp;// to compile english version<br>
//#define __LANG_RUSSIAN&nbsp;// to compile russian version<br>
//#define __LANG_FRENCH&nbsp;&nbsp;// to compile french version<br><br>

// If nothing is set then english version (if to compile in BeOS)<br>
// or localized version (if to compile in Zeta) is compiled.<br><br>

// ---------------------------------- Interfaces ---------------------------------<br><br>
//#define __UNIVERSAL_INTERFACE&nbsp;// to compile with Zeta and BeOS interface<br>
//#define __ZETA_INTERFACE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// to compile only with Zeta interface<br>
//#define __BEOS_INTERFACE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// to compile only with BeOS interface<br><br>

// If nothing is set then __UNIVERSAL_INTERFACE will be set if to compile in BeOS.<br>
// But while compiling in Zeta only __ZETA_INTERFACE is set no matter<br>
// what interface developer have defined indeed.<br><br>

// -------------------------------------------------------------------------------<br>
// ---------------------------- End of parameters --------------------------------<br>
// -------------------------------------------------------------------------------<br>
  </TT></blockquote></p>

  <p align=justify>Первые четыре параметра, заданные опциями #define, определяют язык интерфейса контрола (в порядке их расположения в коде): локализованный, английский, русский или французский. Чтобы задать тот или иной язык, раскомментируйте соответствующий параметр. Если все параметры закомментированы, то контрол будет иметь язык по умолчанию. При компиляции в среде BeOS языком по умолчанию является английский. Если же компиляция происходит в среде Zeta, то контрол будет локализованным с использованием системных средств локализации Zeta.</p>
  <p align=justify>Следует отметить, что сделать контрол полностью локализованным в Zeta не удалось, т.к. в этой системе нет строк перевода для сокращенных дней недели (они остаются на английском языке).</p>
  <p align=justify>Не следует задавать параметр __LANG_LOCALE при компиляции в среде BeOS. Это будет сочтено ошибкой и контрол будет иметь английский интерфейс. То же самое относится к заданию нескольких параметров одновременно. В этом случае будет выбран только один из них в соответствии с порядком их следования в опциях #define.</p>
  <p align=justify>Теперь рассмотрим вторую группу параметров, которые определяют интерфейс контрола.</p>
  <p align=justify>Первый параметр (__UNIVERSAL_INTERFACE) декларирует, что в библиотеку с контролом включается код, позволяющий отобразить контрол как в виде, подобном виду контролов в BeOS, так и в виде, подобном виду контролов в Zeta. В этом случае остальные два параметра будут заданы автоматически. Окончательный вид контрола при выполнении программы будет определен флагом интерфейса в параметре внешнего вида конструктора контрола (вплоть до того, что при выполнении программы с контролом в среде BeOS контрол будет выглядеть подобно контролам в BeOS, а если та же программа будет запущена в Zeta, то и контрол приобретет соответствующий этой системе внешний вид).</p>
  <p align=justify>Второй и третий параметр (если __UNIVERSAL_INTERFACE не задан) являются взаимоисключающими. При задании одного из них в библиотеку с контролом будет включен код, реализующий отображение контрола только в виде, свойственном для соответствующей параметру операционной системы. В этом случае контрол будет выглядеть одинаково вне зависимости от системы, в которой запущена программа с контролом.</p>
  <p align=justify>При компиляции библиотеки в среде BeOS можно использовать все три параметра. Если же компиляция происходит в среде Zeta, то будет принудительно установлен параметр __ZETA_INTERFACE и отключены два других. Так сделано потому, что программа или библиотека, откомпилированные в Zeta, не могут быть использованы в BeOS (хотя наоборот как правило возможно), а значит, BeOS-интерфейс контрола не будет востребован (разве что по прихоти разработчика). Значит, нет смысла включать код, который только бесполезно увеличит размер библиотеки.</p>
  <p align=justify>Операционная система BeOS версий 5.1 (Dano) обладает интерфейсом, похожим на интерфейс Zeta и так же, как в Zeta, программы, откомпилированные в Dano, не работают в BeOS 5.0.X. Поэтому при компиляции контрола календаря в среде Dano рекомендуется задавать __ZETA_INTERFACE для определения внешнего вида контрола. Что же касается языка интерфейса, то здесь применимы параметры, используемые при компиляции в BeOS (т.е. без __LANG_LOCALE).</p>
 </BODY>
</HTML> 